<!DOCTYPE html>
<html>
<head>
    <title>data 测试</title>
    <meta http-equiv ="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src= "jquery-1.9.1.js"></script>
    <script type="text/javascript" src= "ichart.1.1.js"></script>
    <script>
    $(function(){
        $("#btn").click(function(){
//            alert("hello");
            var string ='[["\u8d28\u91cf-80\u5206",[{"name":"\u5b8c\u6574\u6027-80\u5206\uff08\u6743\u91cd50%\uff09","value":30,"color":"#fedd74"},{"name":"\u51c6\u786e\u6027-80\u5206\uff08\u6743\u91cd10%\uff09","value":50,"color":"#82d8ef"},{"name":"\u65f6\u6548\u6027-80\u5206\uff08\u6743\u91cd30%\uff09","value":40,"color":"#f76864"},{"name":"\u4e00\u81f4\u6027-80\u5206\uff08\u6743\u91cd0%\uff09","value":30,"color":"#80bd91"},{"name":"\u552f\u4e00\u6027-80\u5206\uff08\u6743\u91cd20%\uff09","value":10,"color":"#fd9fc1"}]],[]]';
            var result = new Array();
            result=eval(string);
            if (result.length > 0){
                var data0 = result[0];
                if (data0.length >0){
                    /* 0 顶端环形图 */
                    var titledount = data0[0];
                    var datadonut = data0[1];

                }

                if (result[1].length > 0){
                    //1
                    var data1 = result[1][0];
                    if (data1.length > 0){
                        var data11 = data1[0]; //11
                        var data12 = data1[1]; //12
                        var data13 = data1[2]; //13

                        //11曲线 +柱状图
                        var dataline11 = data11[0];
                        var datachart11 = data11[1];
                        var datalinecnt11 = dataline11.length;
                        var datachartcnt11 = datachart11.length;
                        if (datalinecnt11 > 0){ //11曲线图
                            for(i = 0; i < datalinecnt11 ;i++){
                                var linetitle11 = dataline11[i][0];
                                var linedivid11 = dataline11[i][1];
                                var lineflow11 = dataline11[i][2];
                                var linelabels11 = dataline11[i][3];

                            }
                        }
                        if (datachartcnt11 > 0){  //11柱状图
                            var charttitle11 = datachart11[0];
                            var chartdivid11 = datachart11[1];
                            var chartdata11 = datachart11[2];


                        }
                        //容错处理  两个模块都没有时
                        if( (datalinecnt11 == 0) && (datachartcnt11 == 0)){
//                    var rethtml = '<div id="collapseresult110">抱歉，查无此组下数据:(</div>';
//                    $("#integrityresult11").append(rethtml);
                        }

                        //12
                        var dataline12 = data12[0];
                        var datachart12 = data12[1];
                        var datalinecnt12 = dataline12.length;
                        var datachartcnt12 = datachart12.length;
                        if (datalinecnt12 > 0){ //12曲线图
                            for(i = 0; i < datalinecnt12 ;i++){
                                var linetitle12 = dataline12[i][0];
                                var linedivid12 = dataline12[i][1];
                                var lineflow12 = dataline12[i][2];
                                var linelabels12 = dataline12[i][3];

                            }
                        }
                        if (datachartcnt12 > 0){  //12柱状图
                            var charttitle12 = datachart12[0];
                            var chartdivid12 = datachart12[1];
                            var chartdata12 = datachart12[2];

                        }
                        //容错处理  两个模块都没有时
                        if( (datalinecnt12 == 0) && (datachartcnt12 == 0)){
//                    var rethtml = '<div id="collapseresult120">抱歉，查无此组下数据:(</div>';
//                    $("#integrityresult12").append(rethtml);
                        }

                        //13
                        var dataline13 = data13[0];
                        var datachart13 = data13[1];
                        var datalinecnt13 = dataline13.length;
                        var datachartcnt13 = datachart13.length;
                        if (datalinecnt13 > 0){ //11曲线图
                            for(i = 0; i < datalinecnt13 ;i++){
                                var linetitle13 = dataline13[i][0];
                                var linedivid13 = dataline13[i][1];
                                var lineflow13 = dataline13[i][2];
                                var linelabels13 = dataline13[i][3];

                            }
                        }
                        if (datachartcnt13 > 0){  //11柱状图
                            var charttitle13 = datachart13[0];
                            var chartdivid13 = datachart13[1];
                            var chartdata13 = datachart13[2];


                        }
                        //容错处理  两个模块都没有时
                        if( (datalinecnt13 == 0) && (datachartcnt13 == 0)){

                        }
                    }

                    //2
                    var data2 = result[1][1];
                    if (data2.length > 0){
                        var data21 = data2[0];
                        var dataline21 = data21[0];
                        var datachart21 = data21[1];


                    }

                    //3
                    var data3 = result[1][2];
                    if (data3.length > 0){
                        var data31 = data3[0];
                        var data32 = data3[1];
                        if (data31.length > 0){
                            var dataline31 = data31[0];
                            var datachart31 = data31[1];

                        }

                        if (date32.length > 0){
                            var dataline32 = data32[0];
                            var datchart32 = data32[1];

                        }
                    }
                    //4
                    var data4 = result[1][3];
                    if (data4.length > 0){
                        var data41 = data4[0];
                        var data42 = data4[1];
                        if (data41.length > 0){
                            var dataline41 = data41[0];
                            var datachart41 = data41[1];

                        }

                        if (data42.length > 0){
                            var dataline42 = data42[0];
                            var datchart42 = data42[1];

                        }

                    }

                    //5
                    var data5 = result[1][4];
                    if (data5.length > 0){
                        var data51 = data5[0];
                        if (data51.length > 0){
                            var dataline51 = data51[0];
                            var datachart51 = data51[1];

                        }
                    }
                }

            }
        })
    })

    </script>
</head>
<body>
 <a href="javascript:void(0);" id="btn">测试</a>
</body>
</html>